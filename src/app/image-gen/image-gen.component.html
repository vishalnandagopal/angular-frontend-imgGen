<form
    [formGroup]="promptForm"
    (ngSubmit)="onSubmit()"
    class="w-full max-w-lg mx-0.5"
    style="
        display: block;
        margin: auto;
        border: 2px ridge rgba(8, 156, 244, 0.5);
        border-radius: 20px;
        padding: 10px 20px;
    "
>
    <div class="flex flex-wrap -mx-3 mb-10">
        <div class="w-full px-3 mb-6 md:mb-0">
            <label
                class="blocks mb-2"
                for="prompt"
            >
                Prompt:
            </label>
            <input
                required
                formControlName="prompt"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                id="prompt"
                type="text"
                placeholder="Banner for CRM Department"
            />

            <!-- Currently hidden. Later improivise this to display:inherit only when text is empty, otherwise display:none -->
            <p class="text-red-500 text-l italic" style="display: none">
                Please fill out this field.
            </p>
        </div>
        <div class="p-3 mt-2" style="margin: auto" *ngIf="!submitted">
            <input
                class="shadow bg-orange-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"
                type="submit"
                value="Submit"
            />
        </div>
        <div class="p-3 mt-2" style="margin: auto" *ngIf="submitted">
            <input
                class="shadow bg-orange-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"
                type="submit"
                value="Regenerate"
            />
        </div>
    </div>
</form>
<div class="flex flex-col items-center justify-center gap-10">
    <p *ngIf="loading">Loading</p>

    <div
        *ngFor="let image of imageArrays; let i = index"
        class="image-container"
        class="w-full max-w-lg mx-0.5"
    >
        <div *ngIf="loaded">
            <img
                class="generated-image"
                [src]="image.src"
                alt="Image generated by Dall-E"
                [id]="'image-' + i"
            />
            <form (submit)="addThisImage(image)" *ngIf="!selected">
                <button
                    class="shadow block bg-orange-500 mx-auto hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded mt-3 mx-auto"
                    type="submit"
                    [id]="'submit-image-' + i"
                >
                    Select this image
                </button>
            </form>
        </div>
    </div>
</div>
